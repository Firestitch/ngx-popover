<div class="wrapper" [ngClass]="{ hidden: !(popoverRef.componentVisible$ | async) }">
  <div class="mat-elevation-z4 popover-content">
    <ng-template cdkPortalOutlet></ng-template>
  </div>
</div>

<div class="loading-spinner"
  #spinner
  *ngIf="popoverRef.loading && !(popoverRef.componentVisible$ | async)"
  [style.marginLeft]="(popoverRef.loadingDiameter * -.25) +'px'">
    <mat-spinner [diameter]="popoverRef.loadingDiameter"></mat-spinner>
</div>
